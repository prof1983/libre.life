<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/css/main.css"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Language" content="ru"/>
<title>Сравнение Proof-of-Work и Proof-of-Stake - Libre</title>
</head>
<body>
<header></header><script src="/js/header.js"></script>
<main>

<h1>Сравнение Proof-of-Work и Proof-of-Stake</h1>

<figure>
<a href="00.png"><img src="00.jpg"/></a>
</figure>

<p>
Любой, кто достаточно близко знаком с биткоином, наверняка понимает, что это революционное достижение, созданное легендарной, смотревшей далеко в будущее личностью или группой лиц. На первый взгляд, это революционная технология, позволяющая отправлять деньги без участия какого-либо центрального органа власти. Вам не нужен кто-то, кто будет эмитировать ваши деньги, они просто существуют — что-то наподобие золота.
</p>

<p>
Однако любой, кто имел время, чтобы ознакомиться немного глубже с устройством биткоина, мог заметить, что технология уходит далеко за пределы денег. В сухом остатке, биткоин — это первая децентрализованная база данных в истории, и трансфер ценности — это одно из многих естественных применений для биткоина.
</p>

<p>
Но ведь в блокчейне может храниться гораздо более широкий спектр данных. Проекты наподобие Counterparty, Tether и Mastercoin используют децентрализованную природу блокчейна биткоина для широкого диапазона финансовых операций, включая трейдинг и краудфандинг.
</p>

<p>
Криптоплатформы второго поколения, такие как NXT, Ethereum, Bitshares, предлагают функционал, далеко уходящий за пределы финансовых транзакций. Этот функционал интегрирован ядро системы, а не надстроен поверх него. Второе поколение криптоплатформ подчеркивает главное в природе распределенной базы данных блокчейна. Основная идея в основе блокчейна — создать децентрализованную базу данных, работа которой не может быть нарушена каким-либо индивидуальным игроком рынка, и которая используется для хранения произвольных данных.
</p>

<p>
В этой статье предлагается короткое вводное описание существующих методов создания и обеспечения безопасности таких баз данных, без углубления в технические детали и фокусируясь на основной картине.
</p>




<h3>Децентрализованная база данных блокчейн</h3>

<p>
Давайте будем использовать конструктивный подход. Итак, нам нужна децентрализованная база данных, которая может быть доступна и модифицируема всеми участвующими в сети узлами. База данных должна быть согласованной (все узлы видят абсолютно одинаковую версию базы), доступной (узлы могут записывать данные в базу и читать их из нее в любой момент времени), и устойчивые к разделению (если один узел становится неработоспособным, это никак не отражает на базе данных). Однако, согласно теореме CAP, такая база данных не может существовать. Вы можете достичь двух из трех свойств, но не всех сразу. Мы не можем сочетать доступность или устойчивость к разделению, поэтому нам придется смириться с тем фактом, что разные узлы время от времени могут видеть разные версии блокчейна, обычно называемые форками.
</p>

<p>
Но мы все-таки должны найти некий рецепт для восстановления согласованности всей системы, так, чтобы все системные узлы имели единую версию блокчейна. Именно здесь и начинается вся красота блокчейна. Децентрализованный блокчейн — не просто произвольная база данных, все записи сформированы в блоки и организованы в линейном порядке. Каждый последующий блок, как известно, ссылается на своего предшественника. Узлы должны обладать некоторым влиянием, чтобы иметь возможность добавлять записи в базу данных, в то время как процесс записи самой базы данных должен использовать определенные ресурсы для обеспечения работы узлов. Заставляя узлы «платить» что-либо за возможность записывать в базу данных, мы достигаем сразу двух целей: защита от спам-узлов, которые загрязняют сеть, и – одновременно – решение проблемы выбора «правильной» базы данных, на случай сомнений. Как известно, предпочтение отдается базе данных с набольшим количеством блоков. В теории, на построение такой базы данных было затрачено больше ресурсов, соответственно, она будет считаться корректной.
</p>

<p>
Кроме всего вышеперечисленного, нам необходимо защитить сеть от централизации, которая может возникнуть, если отдельный узел будет располагать ресурсами, значительно превышающими ресурсы остальной сети. Ведь если такой максимально эффективный узел появится, он фактически может определять, что может храниться в базе данных, а что нет.
</p>

<p>
Суммируя, процесс построения базы данных выглядит следующим образом:
<br/>
— узлы отправляют свои данные в децентрализованную сеть для последующей обработки;
<br/>
— узлы формируют данные для добавления в блоки и пытаются добавить уже сформированные блоки в базу данных;
<br/>
— база данных с наибольшим количеством блоков считается «правильной», все узлы ссылаются на нее при добавлении новых блоков.
</p>

<p>
А теперь давайте разберемся, какие именно «ресурсы» могут быть использованы для того, чтобы сделать процесс записи в блокчейн «сложным», настолько, чтобы один узел не имел возможности контролировать сеть, если его ресурсы не превышают совокупные ресурсы остальной сети.
</p>




<h2>Защита блокчейна</h2>

<p>
Поскольку мы имеем дело с компьютерными сетями, наш выбор «ресурса» относительно очевиден — компьютерная мощность в чистом виде. Чтобы добавить блок в блокчейн, узел должен решать определенные вычислительные задания, которые значительно усложняют контроль над сетью со стороны одного узла. Это краткое описание концепта Proof-of-Work (доказательство работы) — в основном предполагающего способность узла проверить, что майнер (в роли которого выступает узел, добавляющий новый блок в блокчейн) фактически выполнил расчеты.
</p>

<p>
В биткоине ноды производят итерации в порядке, называемом «одноразовый». Это включает в себя попытку найти хэш заголовка блока (часть блокчейна, которая содержит ссылку на предыдущий блок, и содержит суммированное значение транзакций, включенных в блок), который будет по своему значению соответствовать текущему уровню сложности.
</p>

<p>
Эти вычисления могут производиться только в интерактивном режиме, и сложность устанавливается на таком уровне, что она действительно является сложной. В тоже время проверка результатов вычислений остается простой. Узлы всегда могут удостовериться, что майнер нашел корректное значение.
</p>

<p>
Proof-of-work биткоина породил целую новую индустрию майнинга и стал импульсом к разработке специализированного оборудования. Как известно, ресурсы, расходуемые на хеширование блоков биткоина, огромны и намного превышают мощности крупнейших суперкомпьютеров.
</p>

<p>
При этом результаты вычислений майнеров не имеют никакой ценности за пределами экосистемы биткоина, что заставляет многих задуматься над тем, что все эти ресурсы можно было бы использовать в более полезном направлении. Это конечно повод для отдельной дискуссии, хотя обеспечение безопасности сети биткоин — уже достаточно благородная цель. В любом случае, некоторые другие возможности должны быть рассмотрены.
</p>




<h2>Proof-of-stake</h2>

<p>
Биткоин, в первую очередь, — децентрализованная система финансовых транзакций. Блокчейн биткоина может быть использован для других вещей, но очевидно, что он был разработан, чтобы стать «более хорошими деньгами».
</p>

<p>
Узлы отправляют друг другу блокчейн-токены (определенное значение, связанное с транзакционными входами и выходами), которое эффективно создает биткоин-баланс узла получателя (в действительности, база данных биткоина не содержит никаких балансов, вместо них содержатся транзакционные входы и выходы). Это дало человеку под ником Sunnyking, создателю криптовалюты Peercoin, идею использовать «стейк» (“stake”) — некоторое значение, заблокированное на транзакционных выходах, в качестве ресурса, который определяет, какой узел получает право на майнинг следующего блока. В подходе proof-of-stake узлы также пытаются хэшировать данные в поисках результата меньше определенного значения, но сложность в данном случае распределяется пропорционально и в соответствии с балансом данного узла. Иными словами — в соответствии с количеством монет (токенов) на вашем счету. Таким образом, узел с большим балансом имеет больше шансов сгенерировать следующий блок. И поскольку маловероятно, что конкретному узлу не так интересно иметь больший баланс, чем у остальной сети, эта схема выглядит достаточно привлекательной, прежде всего из-за небольших требований к вычислительным ресурсам, а также потому, что не возникает ситуации «выброшенных» компьютерных мощностей.
</p>

<p>
На первый взгляд PoS выглядит более удачным решением, чем PoW, но в действительности не все так просто. PoW, помимо потребления огромного количества энергии, также имеет существенные недостатки. Биткоин-майнеры организовываются в майнинг-пулы, и оператор пула, теоретически может контролировать большую часть вычислительных мощностей сети. С этой точки зрения децентрализация теряется, и один крупный игрок может контролировать всю сеть.
</p>

<p>
Однако у PoW есть и свои преимущества. PoW-майнеры расходуют много электричества, ресурса, который является внешним с точки зрения сети. PoS-майнеры используют внутренний ресурс – балансы своих аккаунтов. Это помогает им тратить гораздо меньше внешних ресурсов на вычисления.
</p>

<p>
Это корень знаменитой проблемы Nothing-at-Stake (пустой стэк), которая делает PoS системы по своей природе нестабильными в глазах многих криптовалютных энтузиастов. Атакующий может попытаться сделать форк блокчейна, т. е. создать более длинную альтернативную цепочку посредством расходования «несуществующих» ресурсов. Более того, его могут поддержать другие майнеры, поскольку также не расходуют «подлинные» ресурсы. Посредством форка атакующий может отклонять определенные транзакции и осуществлять атаки «двойного расходы» (платить мерчантам, получать товары, делать форк блокчейна и замещать платеж продавцу платежом на собственный аккаунт в альтернативном блокчейне).
</p>

<p>
Проблема Nothing-at-Stake проявляет себя во всех векторах атак на PoS системы. Условно, атака может делиться две категории: ближние и дальние. В случае с ближними атаками происходит замена большинства последних блоков, при дальней атаке атакующий идет глубже, пытаясь заменить всю историю сети. Дойти он может вплоть до генезис-блока.
</p>




<h2>Ближние атаки</h2>

<p>
Давайте для начала рассмотрим ближние атаки. Атакующий пытается сделать форк большинства последних блоков, начиная с блока, который им предшествует. Цель этих действий — построить цепочку блоков, которая будет длиннее существующей на данный момент. Другие майнинг-узлы, видя активность атакующего, могут иметь стимулы помочь ему, поскольку им это ничего не будет стоить: стоимость вычислений минимальна, а майнинг в двух разных блокчейнах увеличивает их шансы оказаться в правильном блокчейне.
</p>

<p>
Стоит отметить, что на практике все не так просто, как выглядит в теории, поскольку большая часть сети будет продолжать майнить в основной цепочке и нуждается в хорошей координации и согласованности действий со стороны атакующих. Теоретически, однако, такая атака вполне возможна.
</p>

<p>
Классическая стратегия предотвращения ближних атак состоит в исключении вредоносных узлов. Преимущество PoS-системы перед PoW-системой – в её большей детерминированности. Как правило, шанс узла сгенерировать следующий блок в PoS-системе зависит от адреса узла, его баланса, текущей сложности и временной метки. Пространство поиска ограничено количеством секунд между смежными блоками (поскольку это единственный параметр, который изменяется). Таким образом, становится возможным предугадать следующий узел майнинга (или, как это принято называть в PoS – форжинга) и наложить на него санкции посредством отклонения его версии блокчейна. Именно так разработана NXT, одна из первых криптовалют второго поколения.
</p>

<p>
<b>Другой подход заключается в том, чтобы обязать майнеров делать взнос в виде определенного количества сетевых токенов до начала работы. Когда узел видит, что майнер подписал своим общедоступным ключом два соревнующихся блока на двух соревнующихся блокчейнах, он сообщает об этом, и залог у майнера конфискуется. Именно такой подход будет использован в протоколе Ethereum, и пока что он не реализован ни в одной из криптовалют.</b>
</p>

<p>
В большинстве существующих криптовалют по-прежнему используются централизованные контрольные точки, и разработчикам периодически приходится подтверждать правильную версию блокчейна. Это выглядит не совсем правильно с точки зрения децентрализованной природы криптовалют, но не будем забывать о вопросах, которые возникают у биткоина к централизованным пулам. Gigahash, крупнейший майнинг-пул биткоина, добровольно согласился контролировать не более 50% сети, хотя способен и на большее.
</p>




<h2>Дальние атаки</h2>

<p>
Теперь давайте посмотрим на дальние атаки. Именно здесь дело для PoS принимает серьезный оборот, по крайне мере, в теории. Погружаясь в глубину блокчейна, атакующий пытается заменить всю историю транзакций. Поскольку вычислительные усилия для PoS-систем намного скромнее, в теории он может начать со старого блока и расположить транзакции таким образом, что будет в состоянии создать более длинный, чем существующий, блокчейн. Он даже может попытаться купить персональные ключи от старых аккаунтов, на которых какое-то время назад имелся баланс, и использовать их для подделки форка.
</p>

<p>
Помешать этому можно, ограничив глубину, начиная с которой сетевые узлы могу принимать новый форк. К примеру, в случае с NXT, если форк стартовал более 720 блоков назад, сетевые узлы его не примут. Однако, чтобы отклонить форк, узел должен иметь копию нынешнего блокчейна, чем не располагает новый, только что присоединившийся форк.
</p>

<p>
Сейчас нет «теоретического» способа помешать атакующему «скормить» свой форк новому узлу. Атакующий может успешно навязать новым узлам свой субъективный взгляд на историю сети. Поэтому определенная централизация на данный момент представляется неизбежной, поскольку доверяемые узлы должны предоставить текущий блокчейн новому участнику. Это называется «слабой субъективностью» и представляется практически неизбежной мерой для существующий теорий PoS.
</p>

<p>
На что нам хотелось бы обратить внимание, это определенное сходство между система PoS- и PoW-системами в вопросах обеспечения безопасности. Оба подхода полагаются на добрую волю и порядочность разработчиков.
</p>

<p>
Многие POS-системы были форкнуты разработчиками, чтобы “отмотать” историю назад после успешных атак на блокчейн или даже просто обмен большого количества криптовалюты, происхождение которой вызывало вопросы.
</p>

<p>
Споры между сторонниками обеих системы длятся уже много лет, но природа этих споров больше теоретическая. Практика показывает, что роль разработчика в вопросах обеспечения безопасности по-прежнему очень высока.
</p>

<p>
Лично я считаю, что самым безопасным решением для будущих криптовалют будет своего рода смесь PoS- и PoW-систем. Более того, это уже является самым распространенным подходом. У многих криптовалют существует этап PoW, когда валюта выпускается через выплату майнерам новыми монетами, и этап PoS, наступающий после того, как вся валюта была выпущена.
</p>

<p>
Вероятно, большинство серьезных криптовалют не станут отказываться от PoW – менталитет Nothing-at-Stake крепко сидит в головах экспертов по криптовалютам. Однако PoS-системы всегда будут более легкими для имплементации и такими же надежными с точки зрения безопасности, как и PoW-системы.
</p>

<br/>

<p>
Саша Иванов специально для ForkLog
</p>

<p>
Источник:
<a href="http://forklog.com/comparing-pow-and-pos/" target="_blank">forklog.com/comparing-pow-and-pos</a>
</p>





<nav class="main-footer-nav"><a href="/platform/ru">Платформа</a></nav>

</main>
<footer><div>7524-12-18 - 7524-12-18</div></footer><script src="/js/footer.js"></script>
</body>
</html>