<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/css/main.css"/>
<meta charset="utf-8"/>
<meta http-equiv="Content-Language" content="ru"/>
<title>Понятие Lightning Network: создание сети. Часть 2 - Libre</title>
</head>
<body>
<header></header><script src="/js/header.js"></script>
<main>

<h1>Понятие Lightning Network: создание сети. Часть 2</h1>

<figure>
<img src="00.jpg"/>
</figure>

<p>
Lightning Network — наиболее ожидаемая технологическая инновация, разработанная поверх биткойн. Платежный уровень, предложенный Джозефом Пун (Joseph Poon) и Тэджем Дрия (Tadge Dryja) обещает поддерживать неограниченное количество транзакций вне цепи среди пользователей за минимальную оплату – обеспечивая лучший уровень безопасности, предлагаемый биткойн.
</p>

<p>
В настоящее время над внедрениями технологии работают три компании – Пун и Дрия Lightning, Blockstream и Blockchain. Но мало кто за пределами данной разработки в полной мере понимает, как «будущее микроплатежей» повлияет на будущее биткойн.
</p>

<p>
Чтобы осознать данный уровень разработки GetCoin объясняет основы Lightning Network и показывает, как они совмещаются. Первая часть раскрыла понятия основных стандартных блоков и объяснила цель их использования, чтобы установить двусторонние платежные каналы. Эта вторая часть объяснит, как двусторонние платежные каналы превращаются в сеть.
</p>




<h2>Сеть</h2>

<p>
В предыдущей статье Элис и Боб установили двусторонний платежный канал. Теперь Элис хочет заплатить один биткойн третьему лицу, Кэролу.
</p>

<p>
Чтобы это сделать Элис и Кэрол могут открыть собственный платежный канал. Но на самом деле это не обязательно. Как оказывается, у Боба и Кэрола уже есть взаимный канал, таким образом, Элис может просто заплатить Кэролу через Боба.
</p>

<p>
В частности Элис может заплатить Бобу один биткойн, и Боб может заплатить Кэролу один биткойн.
</p>

<p>
Однако Элис в этом отношении не сильно доверяет Бобу и Кэрол. Она боится, что, если она заплатит Бобу, Боб фактически может не заплатить Кэролу. Или возможно Боб заплатит Кэролу, но Кэрол будет утверждать, что он не получал деньги, и Элис не будет знать, кого винить.
</p>

<p>
Поэтому Элис хочет получить гарантии от Боба при оплате ему одного биткойн, что он также заплатит Кэролу один биткойн. Этого можно достигнуть (частично) посредством простого криптографического трюка.
</p>

<p>
Когда Элис хочет отправить Кэролу биткойн, она просит Кэрол создать значение (случайный ряд чисел) и послать в ее хеш. Элис также предлагает Кэролу обменять первоначальное значение Бобу за биткойн.
</p>

<p>
Элис, тем временем, принимает хэш от Кэрол, обращается к Бобу, и предлагает ему биткойн за соответствующее значение (которое известно только Кэрол).
</p>

<p>
Таким образом, Боб возвращается к Кэролу и отдает ему один биткойн взамен на значение.
</p>

<p>
Затем Боб возвращается к Элис со значением. Элис понимает, что если Боб получил значение от Кэрола в обмен на биткойн, значит, Кэрол получил ее биткойн. Таким образом, Элис может уверенно дать Бобу биткойн. Все счастливы!
</p>

<p>
Ну… почти все счастливы.
</p>

<figure>
<img src="01.jpg"/>
</figure>

<p>
В этом “наивном” сценарии именно посредник Боб должен будет довериться Элис и Кэролу. Боб должен доверять Кэролу, чтобы получить значение после того, как он послал ему биткойн, и Боб должен доверять Элис, чтобы действительно получить биткойн, как только он предоставит ей данное значение.
</p>

<p>
Оплата биткойн абсолютно гарантированна по сети. Более конкретно: если Боб даст биткойн Кэролу, то он должен гарантированно получить биткойн от Элис.
</p>

<p>
В данном случае также могут пригодиться временные хеш контракты.
</p>




<h2>Временные хеш контракты (HTLCs)</h2>

<p>
В случае если Элис и Боб захотят обменять биткойн на значение через HTLC (И Боб и Кэрол также хотят обменять биткойн на то же значение в определенный момент), то вместо того, чтобы посылать Бобу биткойн прямо, Элис посылает биткойн на новый multisig адрес. Биткойн, которые находятся по этому адресу можно получить двумя различными способами.
</p>

<ul>
<li>Первый вариант — для Боба, это включить его подпись и значение.
<li>Второй вариант — для Элис, чтобы включить ее собственную подпись. Однако у этого выбора есть CLTV-замок-с-часовым-механизмом: Элис сможет подписать и передать сделку только после того, как, к примеру, пройдет две недели.
</ul>

<p>
А это значит, что у Боба есть две недели для создания последующей сделки, в которой он включает свою подпись и значение, и транслирует их, чтобы отправить биткойн из multisig себе. Данная операция гарантируется таким образом: Боб может только требовать с Элис ее биткойн, если он предоставляет значение, его трансляция по сети биткойн делает его общедоступным для просмотра Элис.
</p>

<p>
И если Боб не предоставляет значение вовремя, то у Элис появляется время, чтобы вернуть свой биткойн.
</p>

<p>
Все просто.
</p>

<figure>
<img src="02.jpg"/>
</figure>

<p>
Именно для этого необходимы HTLCs.
</p>

<p>
Как уже упоминалось, не только Элис и Боб, но также Боб и Кэрол установили HTLC. В таком случае, если Кэрол будет требовать свой биткойн от Боба, то Боб получит значение взамен; это будет видно в блокчейн.
</p>

<p>
Поэтому, если значение будет получено, то Боб, гарантированно, получит биткойн от Элис также. Боб может взять значение, которое Кэрол сделал общедоступным на блокчейн, включив его в свой HTLC с Элис и требовать свой биткойн. Эти два канала эффективно связаны.
</p>

<p>
В заключении важно, чтобы Боб получил стоимость от Кэрол, прежде чем Элис сможет вернуть свой биткойн от Боба. Если Боб получает стоимость от Кэрола только после того, как Элис уже получила биткойн обратно, Боб окажется в тупике. Поэтому срок в HTLC Боба и Кэрола должен истечь быстрее, чем срок в HTLC Элис и Боба.
</p>

<figure>
<img src="03.jpg"/>
</figure>

<p>
Наконец, есть еще одна проблема: все операции Lightening Network должны происходить вне цепи. <!--О том, как этого добиться мы вам расскажем в третьей части статьи.-->
</p>


<p>
2016-06-09 by <a href="http://getcoin.today/author/coinnews/" target="_blank">GETCOINTODAY</a>
</p>


<p>
Источник:
<a href="http://getcoin.today/ponyatie-lightning-network-sozdanie-seti-chast-2/" target="_blank">getcoin.today/ponyatie-lightning-network-sozdanie-seti-chast-2</a>
</p>




<nav class="main-footer-nav"><a href="/sys/ru">Система</a></nav>

</main>
<footer><div>7524-11-27 - 7524-11-27</div></footer><script src="/js/footer.js"></script>
</body>
</html>